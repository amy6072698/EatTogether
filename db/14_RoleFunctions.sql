USE EatTogetherDB;
GO

-- =============================================
-- 14_RoleFunctions.sql
-- 說明：多對多關聯，定義各角色擁有哪些功能權限
--
-- Role ID 對照：
--   1 = 店長       2 = 副店長     3 = 收銀員
--   4 = 外場服務生  5 = 內場廚師   6 = 工讀生
--
-- Function ID 對照：
--    1 = 員工管理          2 = 會員管理
--    3 = 訂單管理（含結帳） 4 = 更新訂單狀態
--    5 = 菜單管理          6 = 訂位管理
--    7 = 桌位設定          8 = 優惠券管理
--    9 = 活動管理         10 = 文章管理
--   11 = 報表管理         12 = 通知管理
-- =============================================

SET IDENTITY_INSERT [dbo].[RoleFunctions] ON;
GO

DELETE FROM [dbo].[RoleFunctions] WHERE Id BETWEEN 1 AND 31;

INSERT INTO [dbo].[RoleFunctions] (Id, RoleId, FunctionId)
VALUES
-- 店長（全部 12 項）
( 1, 1,  1),
( 2, 1,  2),
( 3, 1,  3),
( 4, 1,  4),
( 5, 1,  5),
( 6, 1,  6),
( 7, 1,  7),
( 8, 1,  8),
( 9, 1,  9),
(10, 1, 10),
(11, 1, 11),
(12, 1, 12),

-- 副店長（除報表管理外，共 11 項）
(13, 2,  1),
(14, 2,  2),
(15, 2,  3),
(16, 2,  4),
(17, 2,  5),
(18, 2,  6),
(19, 2,  7),
(20, 2,  8),
(21, 2,  9),
(22, 2, 10),
(23, 2, 12),

-- 收銀員（會員管理、訂單管理含結帳，共 2 項）
(24, 3,  2),
(25, 3,  3),

-- 外場服務生（訂位管理、更新訂單狀態，共 2 項）
(26, 4,  4),
(27, 4,  6),

-- 內場廚師（更新訂單狀態，共 1 項）
(28, 5,  4),

-- 工讀生（更新訂單狀態，共 1 項）
(29, 6,  4);

SET IDENTITY_INSERT [dbo].[RoleFunctions] OFF;
GO
